---
title:  "Mongo DB"

toc: true
toc_label: "go page"
toc_icon: "book"
toc_sticky : true

classes: wide

categories: 
  - mysql
tags:
  - mysql
last_modified_at: 2024-05-02T00:08:00-00:00
---
# Mongo DB

## 1. MongoDB 소개

MongoDB는 오픈 소스 NoSQL 데이터베이스 관리 시스템(DBMS)으로, JSON 형태의 데이터를 저장하고 관리할 수 있는 데이터베이스이다. 
MongoDB는 스키마가 없는 구조를 제공하며, 확장성과 성능을 중시하는 애플리케이션에 유용하게 사용된다.

- **NoSQL**: 전통적인 관계형 데이터베이스(RDBMS)와 달리, MongoDB는 구조화된 데이터베이스가 아닌 비정형 데이터를 처리하는 데 최적화된 시스템입니다.
- **Document-Oriented DB**: MongoDB는 데이터를 "문서(Document)" 형식으로 저장합니다. JSON 형식과 유사한 BSON(Binary JSON)을 사용하여 데이터를 저장합니다.

## 2. MongoDB의 특징

MongoDB는 여러 가지 특징을 가지고 있다. 주요 특징은 다음과 같다.

### 2.1. 유연한 데이터 모델

MongoDB는 관계형 데이터베이스처럼 고정된 테이블 구조를 요구하지 않는다. 
대신 JSON과 유사한 BSON 형식의 문서로 데이터를 저장한다. 
이로 인해 데이터를 더욱 유연하게 저장하고 조회할 수 있다.

### 2.2. 확장성

MongoDB는 분산형 데이터베이스로, 수평 확장을 지원한다. 
데이터가 많아져도 여러 서버에 데이터를 분배하여 성능을 유지할 수 있다. 
샤딩(Sharding)을 통해 자동으로 데이터를 분산 처리할 수 있다.

### 2.3. 고가용성

MongoDB는 복제(Replication)를 통해 데이터를 여러 서버에 복제하여 장애에 대비할 수 있다. 
복제본(Replica Set)을 이용해 데이터가 손실되지 않도록 하며, 데이터베이스의 가용성을 높일 수 있다.

### 2.4. 인덱싱 및 쿼리 최적화

MongoDB는 다양한 인덱스 유형을 제공하여 데이터를 빠르게 검색할 수 있도록 돕는다. 또한, 복잡한 쿼리도 효율적으로 처리할 수 있는 다양한 기능을 지원한다.

## 3. MongoDB의 주요 개념

MongoDB는 데이터를 문서(Document)라는 형태로 저장하며, 문서들이 모여서 컬렉션(Collection)을 구성한다. MongoDB에서 중요한 개념은 다음과 같다.

### 3.1. 데이터베이스(Database)

MongoDB는 여러 개의 데이터베이스를 생성할 수 있습니다. 데이터베이스는 여러 컬렉션을 포함하고 있으며, 각 데이터베이스는 독립적인 공간을 가진다.

### 3.2. 컬렉션(Collection)

컬렉션은 MongoDB에서 데이터를 저장하는 단위입니다. 관계형 데이터베이스의 테이블과 유사하며, 하나의 컬렉션에는 여러 개의 문서가 포함됩니다.

### 3.3. 문서(Document)

문서는 MongoDB의 데이터 저장 단위다. 문서는 필드(field)와 값(value)의 쌍으로 구성된 데이터를 저장한다. 
JSON 형식처럼 키-값 쌍으로 데이터를 표현하며, BSON(Binary JSON) 형식을 사용하여 저장된다.

### 3.4. 필드(Field)와 값(Value)

MongoDB에서 필드는 문서 내에서 저장되는 데이터를 나타내며, 값은 필드에 저장되는 실제 데이터를 의미한다. 
예를 들어, `{"name": "John", "age": 30}`에서 `name`과 `age`가 필드이고, `"John"`과 `30`이 값이다.

### 3.5. 인덱스(Index)

인덱스는 데이터를 효율적으로 검색할 수 있도록 돕는 데이터 구조이다. 
MongoDB는 여러 종류의 인덱스를 제공하며, 이를 통해 쿼리 성능을 최적화할 수 있다.

## 4. MongoDB 기본 명령어

MongoDB를 사용하기 위해서는 몇 가지 기본적인 명령어를 알아야 합니다. MongoDB는 쉘 명령어로 직접 데이터를 관리할 수 있다.

### 4.1. 데이터베이스 생성 및 선택
use <데이터베이스명>
// 데이터베이스를 선택합니다. 만약 해당 데이터베이스가 없다면 새로 생성된다.

### 4.2. 컬렉션 생성
db.createCollection(<컬렉션명>)
### 4.3. 문서 삽입
db.<컬렉션명>.insertOne({ ... })
db.<컬렉션명>.insertMany([{ ... }, { ... }])
### 4.4. 문서 조회
db.<컬렉션명>.find({ ... })
### 4.5. 문서 수정
db.<컬렉션명>.updateOne({ ... }, { $set: { ... } })
db.<컬렉션명>.updateMany({ ... }, { $set: { ... } })
### 4.6. 문서 삭제
db.<컬렉션명>.deleteOne({ ... })
db.<컬렉션명>.deleteMany({ ... })
## 5. MongoDB의 데이터 모델링
MongoDB에서 데이터 모델링은 데이터를 어떻게 저장하고 관계를 표현할지 결정하는 중요한 작업이다. MongoDB의 데이터 모델링은 다음과 같은 방식으로 진행할 수 있다.

### 5.1. 임베디드 문서(Embedded Documents)
MongoDB에서는 관계형 데이터베이스에서처럼 테이블 간에 JOIN을 사용하지 않고, 문서 안에 다른 문서를 포함하는 임베디드 문서 방식으로 데이터를 저장할 수 있다. 
이 방법은 데이터 조회 성능을 최적화할 수 있다.

예를 들어, 하나의 주문(Order) 문서에 해당 주문에 대한 항목(Item)을 포함시킬 수 있다.
{
  "order_id": "12345",
  "customer": {
    "name": "John Doe",
    "address": "123 Main St"
  },
  "items": [
    {"product": "Laptop", "quantity": 1, "price": 1000},
    {"product": "Mouse", "quantity": 2, "price": 50}
  ]
}

### 5.2. 참조(Reference)
참조 방식은 관계형 데이터베이스의 외래 키(Foreign Key)처럼, 다른 문서의 _id를 저장하여 다른 문서와의 관계를 설정하는 방식이다.

예를 들어, 주문(Order) 문서에 고객(Customer) 문서의 _id를 참조로 저장할 수 있다.
{
  "order_id": "12345",
  "customer_id": ObjectId("507f1f77bcf86cd799439011"),
  "items": [
    {"product": "Laptop", "quantity": 1, "price": 1000}
  ]
}

## 6. MongoDB 활용 예시
### 6.1. 데이터 분석
MongoDB는 대용량 데이터를 효율적으로 저장하고 처리할 수 있기 때문에, 빅데이터 분석 및 처리에 많이 활용된다. 
예를 들어, 로그 데이터 분석이나 클릭스트림 데이터를 저장하는 데 유용하다.

### 6.2. 실시간 애플리케이션
MongoDB는 빠른 쓰기 성능과 확장성을 제공하므로 실시간 애플리케이션에서 유용하다. 
예를 들어, 채팅 시스템, 실시간 게임 점수판, 소셜 미디어 애플리케이션에서 활용된다.

### 6.3. 콘텐츠 관리 시스템(CMS)
MongoDB는 유연한 데이터 모델 덕분에 콘텐츠 관리 시스템에 적합하다. 
다양한 형식의 콘텐츠를 저장하고, 데이터를 쉽게 확장할 수 있기 때문에 유연한 CMS 구현이 가능하다.

## 7. 결론
MongoDB는 데이터의 구조가 유연하고, 성능이 뛰어나며, 확장성이 뛰어난 NoSQL 데이터베이스이다. 
다양한 기능과 용도로 활용될 수 있어, 특히 빠르게 변화하는 데이터를 처리하는 데 유용하다. 
MongoDB는 실시간 데이터 처리, 빅데이터 분석, 콘텐츠 관리 등 다양한 분야에서 사용되고 있으며, 그 가능성은 무궁무진하다.

MongoDB를 잘 활용하면 데이터베이스의 관리와 성능 최적화에 큰 도움이 될 것이다.